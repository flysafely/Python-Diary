## 最大值减去最小值小于或等于num的子数组数量
* 要求:如果数组长度为N，请实现时间复杂度为O(N)的解法
* 难度:☆☆☆
* 代码实现:
```
from collections import deque


def peek(object):
    return object[len(object) - 1]


def MaxMin(array, num):
    if num == None or len(array) == 0:
        return 0
    qmin = []
    qmax = []
    Qmin = deque(qmin)
    Qmax = deque(qmax)
    i, j, res = 0, 0, 0
    while i < len(array):
        while j < len(array):
            while len(Qmin) != 0 and array[peek(Qmin)] >= array[j]:
                Qmin.pop()
            Qmin.append(j)
            while len(Qmax) != 0 and array[peek(Qmin)] <= array[j]:
                Qmax.pop()
            Qmax.append(j)
            if array[Qmax[0]] - array[Qmin[0]] > num:
                break
            j += 1
        if Qmin[0] == i:
            Qmin.popleft()
        if Qmax[0] == i:
            Qmax.popleft()
        res += j - i
        i += 1
    return res


if __name__ == "__main__":
    print(MaxMin([1, 5, 1, 1, 1, 1, 1], 2))

```
